-- ============================================================\n-- MIGRACIÓN AUTOMÁTICA: Capacitaciones 2025\n-- Generado: 2026-02-06T08:58:39.612353\n-- ============================================================\n\nBEGIN;\n\n-- 1. CREACIÓN DE SESIONES\n-- Busca id_dia mediante JOIN con tabla dias\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-06'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-07'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-12'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-13'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-14'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-21'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-03-28'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-03'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-09'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-10'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-11'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'C', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-11'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'C'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-16'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-04-23'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-07'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'B', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-07'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'B'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-14'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-21'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-28'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'B', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-05-28'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'B'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-06-17'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\nINSERT INTO capacitaciones (id_dia, coordinador_cap, tema, grupo, observaciones)
SELECT d.id_dia, 1, 'Capacitación Práctica 2025', 'A', 'Migración ETL Automática'
FROM dias d
WHERE d.fecha = '2025-06-18'
  AND NOT EXISTS (
      SELECT 1 FROM capacitaciones c 
      WHERE c.id_dia = d.id_dia AND c.grupo = 'A'
  );\n\n\n-- 2. ASIGNACIÓN DE DISPOSITIVOS\n-- Usa id_cap (no id_capacitacion) y ON CONFLICT para idempotencia\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TARIMA DE PINTURA'
WHERE d.fecha = '2025-05-07' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'AUTORRETRATATE'
WHERE d.fecha = '2025-04-10' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'C'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE '¿QUÉ LUGAR SOS?'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RINCÓN DE GUNTA'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE ENSABLE'
WHERE d.fecha = '2025-05-28' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'HOMENAJE A LA MIRADA'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE '¿QUÉ LUGAR SOS?'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE LIBROS'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE PAPEL'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE ENSABLE'
WHERE d.fecha = '2025-04-16' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'HOMENAJE A LA MIRADA'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE DISEÑO'
WHERE d.fecha = '2025-04-16' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE PINTURA'
WHERE d.fecha = '2025-05-28' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE LECTURA'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TARIMA DE PINTURA'
WHERE d.fecha = '2025-04-10' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MOLDERÍA'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'LOS PAPELES DE TU VIDA'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'AUTORRETRATATE'
WHERE d.fecha = '2025-04-16' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE LIBROS'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE PINTURA'
WHERE d.fecha = '2025-04-16' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'BATIK'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS M.: BLANCO'
WHERE d.fecha = '2025-03-06' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'PATIO DE ARTESANOS'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RINCÓN DE GUNTA'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'LOS PAPELES DE TU VIDA'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE DISEÑO'
WHERE d.fecha = '2025-04-10' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE LECTURA'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE CONVIVENCIA'
WHERE d.fecha = '2025-03-06' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'PATIO DE ARTESANOS'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'LOS PAPELES DE TU VIDA'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE PINTURA'
WHERE d.fecha = '2025-04-10' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'C'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'C'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'BATIK'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'C'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RINCÓN DE GUNTA'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS M.: BLANCO'
WHERE d.fecha = '2025-03-07' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TARIMA DE PINTURA'
WHERE d.fecha = '2025-04-16' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE DISEÑO'
WHERE d.fecha = '2025-05-28' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE '¿QUÉ LUGAR SOS?'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MOLDERÍA'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'HOMENAJE A LA MIRADA'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'BATIK'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FANZINE'
WHERE d.fecha = '2025-03-28' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RINCÓN DE GUNTA'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE '¿QUÉ LUGAR SOS?'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE LIBROS'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE PAPEL'
WHERE d.fecha = '2025-03-06' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'PATIO DE ARTESANOS'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE LECTURA'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'LOS PAPELES DE TU VIDA'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE LIBROS'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'AUTORRETRATATE'
WHERE d.fecha = '2025-05-28' AND c.grupo = 'B'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'PATIO DE ARTESANOS'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE LECTURA'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'LOS PAPELES DE TU VIDA'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE ENSABLE'
WHERE d.fecha = '2025-03-12' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MOLDERÍA'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE ENSABLE'
WHERE d.fecha = '2025-05-07' AND c.grupo = 'B'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE CONVIVENCIA'
WHERE d.fecha = '2025-03-07' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FANZINE'
WHERE d.fecha = '2025-03-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE DISEÑO'
WHERE d.fecha = '2025-03-12' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE PAPEL'
WHERE d.fecha = '2025-04-09' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'AUTORRETRATATE'
WHERE d.fecha = '2025-03-12' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE PINTURA'
WHERE d.fecha = '2025-03-12' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FANZINE SOLTÁ LA LENGUA'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-06-17' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE '¿QUÉ LUGAR SOS?'
WHERE d.fecha = '2025-05-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'HOMENAJE A LA MIRADA'
WHERE d.fecha = '2025-04-23' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TARIMA DE PINTURA'
WHERE d.fecha = '2025-05-28' AND c.grupo = 'B'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MOLDERÍA'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'HOMENAJE A LA MIRADA'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'BATIK'
WHERE d.fecha = '2025-04-11' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MOLDERÍA'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'AUTORRETRATATE'
WHERE d.fecha = '2025-05-07' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'BATIK'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TELA COLECTIVA'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RINCÓN DE GUNTA'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-04-03' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TARIMA DE PINTURA'
WHERE d.fecha = '2025-03-12' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SASHIKO'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'FÁBRICA DE LIBROS'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'PATIO DE ARTESANOS'
WHERE d.fecha = '2025-03-14' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'RÍO DE JUEGOS T.'
WHERE d.fecha = '2025-05-21' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE DISEÑO'
WHERE d.fecha = '2025-05-07' AND c.grupo = 'B'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE ENSABLE'
WHERE d.fecha = '2025-04-10' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'SECTOR DE LECTURA'
WHERE d.fecha = '2025-06-18' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'MESA DE PINTURA'
WHERE d.fecha = '2025-05-07' AND c.grupo = 'B'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\nINSERT INTO capacitaciones_dispositivos (id_cap, id_dispositivo, tiempo_minutos)
SELECT c.id_cap, disp.id_dispositivo, 60
FROM capacitaciones c
JOIN dias d ON c.id_dia = d.id_dia
JOIN dispositivos disp ON disp.nombre_dispositivo ILIKE 'TRAJE DE LAS FORMAS'
WHERE d.fecha = '2025-03-13' AND c.grupo = 'A'
ON CONFLICT (id_cap, id_dispositivo) DO NOTHING;\n\n\n-- 3. ASIGNACIÓN DE PARTICIPANTES\n-- Bloque PL/pgSQL para lógica condicional\n\nDO $$\nDECLARE\n  v_cap_id INT;\n  v_agente_id INT;\nBEGIN\n\n  -- Sesión 2025-03-06 Grupo A (16 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-06' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Soruco, Mauro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Soruco, Mauro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-07 Grupo A (17 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-07' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-12 Grupo A (11 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-12' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Soruco, Mauro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Soruco, Mauro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-13 Grupo A (12 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-13' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-14 Grupo A (10 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-14' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-21 Grupo A (17 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-21' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-03-28 Grupo A (15 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-03-28' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-03 Grupo A (12 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-03' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-09 Grupo A (10 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-09' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-10 Grupo A (11 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-10' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-11 Grupo A (10 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-11' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-11 Grupo C (10 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-11' AND c.grupo = 'C';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-16 Grupo A (11 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-16' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Soruco, Mauro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Soruco, Mauro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-04-23 Grupo A (11 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-04-23' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-07 Grupo A (19 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-07' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-07 Grupo B (19 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-07' AND c.grupo = 'B';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wulff, Ayelén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wulff, Ayelén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-14 Grupo A (21 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-14' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Viloria, Bernardo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Viloria, Bernardo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Perot, Ludmila Antonella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Perot, Ludmila Antonella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Soruco, Mauro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Soruco, Mauro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-21 Grupo A (21 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-21' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pérez Bauer, Oriana Luján\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pérez Bauer, Oriana Luján%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Perot, Ludmila Antonella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Perot, Ludmila Antonella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Soruco, Mauro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Soruco, Mauro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cutropia, María Luz\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cutropia, María Luz%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Montiel, Luna Estefanía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Montiel, Luna Estefanía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Luque, Diego Domingo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Luque, Diego Domingo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-28 Grupo A (15 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-28' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Perot, Ludmila Antonella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Perot, Ludmila Antonella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-05-28 Grupo B (15 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-05-28' AND c.grupo = 'B';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Williner, Magali Belén\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Williner, Magali Belén%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Perot, Ludmila Antonella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Perot, Ludmila Antonella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Fanton, Macarena Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Fanton, Macarena Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Oroño, Maite Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Oroño, Maite Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Pinget, Constanza\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Pinget, Constanza%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Aranda, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Aranda, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Cosemano, Rosario\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Cosemano, Rosario%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Descalzi, Florencia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Descalzi, Florencia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rodríguez, Valentin\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rodríguez, Valentin%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ruiz, María Emilia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ruiz, María Emilia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Castillo, Valentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Castillo, Valentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-06-17 Grupo A (10 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-06-17' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Perot, Ludmila Antonella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Perot, Ludmila Antonella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Martinez, Nicolás Alejandro\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Martinez, Nicolás Alejandro%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wilberger, Franco\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wilberger, Franco%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Nolasco Lasbia, Julieta\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Nolasco Lasbia, Julieta%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Yglesia, Lorenzo\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Yglesia, Lorenzo%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Bigliani, Caterina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Bigliani, Caterina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ozorio, Abril Lucía\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ozorio, Abril Lucía%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Chillemi, Leticia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Chillemi, Leticia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Ortola, Martina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Ortola, Martina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\n  -- Sesión 2025-06-18 Grupo A (9 asistentes)\n  SELECT c.id_cap INTO v_cap_id FROM capacitaciones c\n  JOIN dias d ON c.id_dia = d.id_dia\n  WHERE d.fecha = '2025-06-18' AND c.grupo = 'A';\n\n  IF v_cap_id IS NOT NULL THEN\n    -- Participante: Raminy, Delfina Magdalena\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Raminy, Delfina Magdalena%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Salva Kosak, Alejandro León\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Salva Kosak, Alejandro León%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Zanel Di Filippo, Florentina\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Zanel Di Filippo, Florentina%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Rios, Tomas Valentín\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Rios, Tomas Valentín%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Favano, María Sol\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Favano, María Sol%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Dechanzi Salomón, Maria Emiliana\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Dechanzi Salomón, Maria Emiliana%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Álvarez, Agustina Gisela\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Álvarez, Agustina Gisela%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Firmani, Valentina Donatella\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Firmani, Valentina Donatella%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n    -- Participante: Wagner, Alexia\n    SELECT id_agente INTO v_agente_id FROM datos_personales\n    WHERE CONCAT(nombre, ' ', apellido) ILIKE '%Wagner, Alexia%' LIMIT 1;\n    IF v_agente_id IS NOT NULL THEN\n      INSERT INTO capacitaciones_participantes (id_cap, id_agente)\n      VALUES (v_cap_id, v_agente_id)\n      ON CONFLICT (id_cap, id_agente) DO NOTHING;\n    END IF;\n\n  END IF;\n\nEND $$;\n\nCOMMIT;\n\n-- ============================================================\n-- FIN DE MIGRACIÓN\n-- ============================================================\n